{% extends 'app/base.html' %}
{% load static %}
{% block title %}Home{% endblock title %}

   
<style>
  /* Sale Marquee Styles */
.sale-marquee {
  overflow: hidden;
  white-space: nowrap;
  display: flex;
  align-items: center;
  justify-content: center;
  animation: scroll-left 15s linear infinite;
}

.sale-title,
.sale-description,
.sale-small {
  padding-right: 50px;
  font-size: 1.2em;
}

@keyframes scroll-left {
  0% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(-100%);
  }
}

@media (max-width: 768px) {
  .sale-title {
    font-size: 1.5em;
  }
  .sale-description {
    font-size: 1em;
  }
}
.carousel-caption {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
}
.btn {
    border-radius: 50px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}



</style>


<!-- End Banner Slider -->
     

{% block livesale %}
<!-- Live Sale Section with Scrolling Effect -->
<div class="container-fluid">
  <div class="row bg-danger text-center p-4 text-white border-top shadow sale-marquee">
    <h1 class="sale-title">SALE IS LIVE NOW</h1>
    <p style="font-size: 1.2rem; margin: 0;">
      Get up to 50% off when you shop for â‚¹1000 or more. Don't miss outâ€”grab your favorites today!
  </p>
  </div>
</div>
{% endblock livesale %}

<!-- Live Sale Section (Moved to the Bottom) -->

<style>
  /* Hover Effect */
  .bg-danger:hover {
    background-color: #c62828 !important; /* Darker shade on hover */
  }

  /* Responsive Styles */
  @media (max-width: 768px) {
    .row h1 {
      font-size: 1.8em;
    }
    .row span {
      font-size: 1em;
    }
    .row small {
      font-size: 0.8em;
    }
  }
</style>
<!-- End Live Sale Section -->

  

  <!-- 1st Product Slider -->
  <!-- Your Product Slider Code Here -->



{% block main-content %}
<!-- 1st Product Slider -->
<!-- Your Product Slider Code Here -->

<!-- End 1st Product Slider -->

<!-- 2nd Product Slider -->
{% if messages %}
<div class="container mt-3">
    {% for message in messages %}
        <div class="alert {{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}
</div>
{% endif %}

<div class="mx-3">
  <div class="owl-carousel" id="slider2">
    {% for tp in Havan_Samagri %}
    <a href="{% url 'product-detail' tp.id %}" class="btn">
      <div class="item text-center">
        <img src="{{ tp.images.all.0.image.url }}" class="card-img-top" alt="{{ product.title }}"
                           style="height: 250px; width: 100%; object-fit: cover; border-radius: 12px 12px 0 0;">
        <div class="mt-2">
          <span class="fw-bold">{{ tp.title }}</span><br>
          <span style="font-weight: bold; text-decoration: line-through;">{{ tp.selling_price }}</span>

          <span class="fs-5 text-success">â‚¹{{ tp.discounted_price }}</span><br>
          <span class="badge bg-light text-dark">On lowest prize</span>
          <div class="mt-1">
            <span class="text-primary fw-bold">{{ tp.rating }}</span> 
            <i class="fa fa-star text-warning"></i> 
            <small class="text-muted">3.5</small>
          </div>
          <div class="mt-1">
            <span class="badge bg-warning text-dark">Trusted</span>
          </div>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>
</div>

<!-- End 2nd Product Slider -->




 <!-- End 3rd Product Slider -->

<!-- Payment Info Section -->
<div class="container my-5">
  <div class="row">
   <div class="col-sm-3">
    <div class="card mb-3">
      <div class="card-body">
      <img src="{% static 'app/images/payavail/cc.jpg' %}" alt="" srcset="" class="img-fluid">
      </div>
    </div>
   </div>
   <div class="col-sm-3">
    <div class="card mb-3">
      <div class="card-body">
       <img src="{% static 'app/images/payavail/upi.jpg' %}" alt="" srcset="" class="img-fluid">
      </div>
    </div>
   </div>
   <div class="col-sm-3">
    <div class="card mb-3">
      <div class="card-body">
       <img src="{% static 'app/images/payavail/nb.jpg' %}" alt="" srcset="" class="img-fluid">
      </div>
    </div>
   </div>
   <div class="col-sm-3">
    <div class="card mb-3">
      <div class="card-body">
       <img src="{% static 'app/images/payavail/bj.jpg' %}" alt="" srcset="" class="img-fluid">
      </div>
    </div>
   </div>
  </div>
 </div>
 <!-- End Payment Info Section -->

{% endblock %}
<!-- Navratri Trending Sale Section -->
<div class="container-fluid my-5 bg-light py-5 shadow rounded">
  <div class="text-center mb-4">
    <h2 class="text-danger fw-bold">ðŸª” Navratri Trending Sale ðŸª”</h2>
    <p class="text-muted">Celebrate this Navratri with divine discounts and festive offers!</p>

    <!-- Countdown Timer -->
    <h5 class="text-dark mt-3">Hurry! Sale ends in 
      <span id="countdown" class="text-danger fw-bold"></span>
    </h5>
  </div>

  <!-- Product Carousel -->
  <div class="owl-carousel" id="navratri-slider">
    {% for item Havan %}
    <a href="{% url 'product-detail' item.id %}" class="btn">
      <div class="item text-center bg-white rounded shadow p-2">
        <img src="{{ item.images.all.0.image.url }}" class="img-fluid" style="height: 220px; object-fit: cover; border-radius: 15px;">
        <div class="mt-2">
          <span class="fw-bold">{{ item.title }}</span><br>
          <span class="text-muted" style="text-decoration: line-through;">â‚¹{{ item.selling_price }}</span>
          <span class="fs-5 text-success fw-bold">â‚¹{{ item.discounted_price }}</span>
          <div class="mt-1">
            <span class="badge bg-warning text-dark">Navratri Special</span>
          </div>
          <div class="mt-1">
            <span class="text-primary fw-bold">{{ item.rating }}</span>
            <i class="fa fa-star text-warning"></i>
          </div>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>
</div>

<!-- Countdown Timer Script -->
<script>
  const endDate = new Date("2025-04-15T23:59:59").getTime();
  const countdownEl = document.getElementById("countdown");

  setInterval(() => {
    const now = new Date().getTime();
    const distance = endDate - now;

    if (distance < 0) {
      countdownEl.innerHTML = "Sale Ended";
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hrs = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const mins = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const secs = Math.floor((distance % (1000 * 60)) / 1000);

    countdownEl.innerHTML = `${days}d ${hrs}h ${mins}m ${secs}s`;
  }, 1000);
</script>

<!-- Extra Styling for Navratri Section -->
<style>
  #navratri-slider .item {
    transition: transform 0.3s ease-in-out;
  }

  #navratri-slider .item:hover {
    transform: scale(1.05);
  }

  #countdown {
    font-size: 1.2rem;
  }

  @media (max-width: 768px) {
    #navratri-slider .item img {
      height: 180px;
    }
    #countdown {
      font-size: 1rem;
    }
  }
</style>
